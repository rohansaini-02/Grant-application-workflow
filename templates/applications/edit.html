{% extends 'base.html' %}

{% block title %}Edit Application{% endblock %}

{% block content %}
<div class="card">
    <h1 class="card-title">Edit Application</h1>
    <p style="color: #6c757d;">{{ application.title }}</p>

    <form method="post" action="{% url 'applications:edit' application.pk %}">
        {% csrf_token %}

        <div class="form-group">
            <label for="title" class="form-label">Application Title *</label>
            <input type="text" id="title" name="title" class="form-control" value="{{ application.title }}" required
                maxlength="500">
        </div>

        <div class="form-group">
            <label for="call_program" class="form-label">Call/Program *</label>
            <input type="text" id="call_program" name="call_program" class="form-control"
                value="{{ application.call_program }}" required maxlength="255">
        </div>

        <div class="form-group">
            <label for="abstract" class="form-label">Abstract *</label>
            <textarea id="abstract" name="abstract" class="form-control" rows="6"
                required>{{ application.abstract }}</textarea>
        </div>

        <div class="form-group">
            <label for="requested_amount" class="form-label">Requested Amount ($) *</label>
            <input type="number" id="requested_amount" name="requested_amount" class="form-control"
                value="{{ application.requested_amount }}" required min="0" step="0.01">
        </div>

        <div class="form-group">
            <label for="tags" class="form-label">Tags (comma-separated)</label>
            <input type="text" id="tags" name="tags" class="form-control" value="{{ application.tags|join:',' }}">
        </div>

        <div style="border-top: 1px solid #dee2e6; margin: 1.5rem 0; padding-top: 1.5rem;">
            <div style="display: flex; gap: 0.5rem;">
                <button type="submit" class="btn btn-primary">Save Changes</button>
                <a href="{% url 'applications:detail' application.pk %}" class="btn"
                    style="background-color: #6c757d; color: white;">Cancel</a>
            </div>
        </div>
    </form>
</div>
{% endblock %}